<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>数据源配置 - 目光呆滞的5741号代码搬运工</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="hisaige" />
  <meta name="description" content="数据库之druid两种比较稳的配置方式 1. 方式一 pom如下，注意druid用的版本是1.1.18，低版本可能不适用 &amp;lt;!-- 分页插件 --&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;com.github.pagehelper&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;pagehelper&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;4.1.6&amp;lt;/version&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;tk.mybatis&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;mapper-spring-boot-starter&amp;lt;/artifactId&amp;gt;" />







<meta name="generator" content="Hugo 0.57.2" />


<link rel="canonical" href="https://hisaige.github.io/post/development/druid%E4%B8%A4%E7%A7%8D%E6%AF%94%E8%BE%83%E7%A8%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/css/hisaige.css">


<meta property="og:title" content="数据源配置" />
<meta property="og:description" content="数据库之druid两种比较稳的配置方式 1. 方式一 pom如下，注意druid用的版本是1.1.18，低版本可能不适用 &lt;!-- 分页插件 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hisaige.github.io/post/development/druid%E4%B8%A4%E7%A7%8D%E6%AF%94%E8%BE%83%E7%A8%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F/" />
<meta property="article:published_time" content="2019-09-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-09-03T00:00:00+00:00" />
<meta itemprop="name" content="数据源配置">
<meta itemprop="description" content="数据库之druid两种比较稳的配置方式 1. 方式一 pom如下，注意druid用的版本是1.1.18，低版本可能不适用 &lt;!-- 分页插件 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;">


<meta itemprop="datePublished" content="2019-09-03T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-09-03T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="3494">



<meta itemprop="keywords" content="数据库,druid," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="数据源配置"/>
<meta name="twitter:description" content="数据库之druid两种比较稳的配置方式 1. 方式一 pom如下，注意druid用的版本是1.1.18，低版本可能不适用 &lt;!-- 分页插件 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">目光呆滞的5741号代码搬运工</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/">This is Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/about/">About</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="https://hisaige.github.io/">
              docs
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="https://hisaige.github.io/post/docs/jane-theme-preview/">Jane Theme Preview</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/shortcodes-preview/">Shortcodes Preview</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/image-preview/">Image Preview</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/syntax-highlighting/">Syntax Highlighting</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/math-preview/">Math Preview</a>
              </li>
            
          </ul>
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      目光呆滞的5741号代码搬运工
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/">This is Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hisaige.github.io/about/">About</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="https://hisaige.github.io/">docs</a>
          <ul class="submenu">
            
              <li>
                <a href="https://hisaige.github.io/post/docs/jane-theme-preview/">Jane Theme Preview</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/shortcodes-preview/">Shortcodes Preview</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/image-preview/">Image Preview</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/syntax-highlighting/">Syntax Highlighting</a>
              </li>
            
              <li>
                <a href="https://hisaige.github.io/post/docs/math-preview/">Math Preview</a>
              </li>
            
          </ul>

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">数据源配置</h1>
      
      <div class="post-meta">
        <time datetime="2019-09-03" class="post-time">
          3099-09-03
        </time>
        <div class="post-category">
            <a href="https://hisaige.github.io/categories/development/"> Development </a>
            
          </div>
        <span class="more-meta"> 3494 words </span>
          <span class="more-meta"> 7 min read </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#1-方式一">1. 方式一</a></li>
<li><a href="#2-配置方式二">2. 配置方式二</a></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h1>数据库之druid两种比较稳的配置方式</h1>

<h1 id="1-方式一">1. 方式一</h1>

<p>pom如下，注意druid用的版本是1.1.18，低版本可能不适用</p>

<pre><code class="language-xml">		&lt;!-- 分页插件 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
            &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;
            &lt;version&gt;4.1.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;2.1.5&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter --&gt;
        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter --&gt;
        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;1.1.18&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>

<p>配置类</p>

<pre><code class="language-java\">package com.hisaige.database.config;

import com.alibaba.druid.spring.boot.autoconfigure.properties.DruidStatProperties;
import com.alibaba.druid.support.http.StatViewServlet;
import com.alibaba.druid.support.http.WebStatFilter;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.context.properties.EnableConfigurationProperties;
import org.springframework.boot.web.servlet.FilterRegistrationBean;
import org.springframework.boot.web.servlet.ServletRegistrationBean;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jdbc.datasource.DataSourceTransactionManager;

import javax.sql.DataSource;
import java.sql.SQLException;

@Configuration
public class DataSourceConfiguration {



	@Resource
	private DataSource dataSource;

	/*
	 * @Bean public SqlSessionFactory sqlSessionFactory(DataSource dataSource)
	 * throws Exception { SqlSessionFactoryBean factory = new
	 * SqlSessionFactoryBean(); factory.setDataSource(dataSource); return
	 * factory.getObject(); }
	 */

	@Bean
	public DataSourceTransactionManager transactionManager() throws SQLException {
		DataSourceTransactionManager transManager = new DataSourceTransactionManager();
		transManager.setDataSource(dataSource);
		return transManager;
	}
	
	/**
	*分页插件配置，
	*注意，如果分页插件要结合通用mapper使用的话，不要用分页插件的startter继承方式
	*如下这种普通方式即可，因为分页插件的startter里面继承了mybatis的自动装配startter，
	*这里面针对于mapper包扫描那块会出现冲突
	*
	*/
	@Bean
	public PageHelper pageHelper() {
		PageHelper pageHelper = new PageHelper();
		Properties props = new Properties();
		props.setProperty(&quot;dialect&quot;, &quot;mysql&quot;);
		// 表示支持从接口中读取pageNum和pageSize
		props.setProperty(&quot;supportMethodsArguments&quot;, &quot;true&quot;);
		pageHelper.setProperties(props);
		return pageHelper;
	}

	/**
	 * 配置监控服务器
	 * 
	 * @return 返回监控注册的servlet对象
	 * @author SimpleWu
	 */
	@Bean
	public ServletRegistrationBean&lt;StatViewServlet&gt; statViewServlet() {

		// 这里也可以通过读取yml配置文件的方式读取配置信息来设置黑白名单
		System.out.println(&quot;------------userName&quot; + druidStatProperties.getStatViewServlet().getLoginUsername());

		ServletRegistrationBean&lt;StatViewServlet&gt; servletRegistrationBean = new ServletRegistrationBean&lt;&gt;(
				new StatViewServlet(), &quot;/druid/*&quot;);
		// 添加IP白名单
		servletRegistrationBean.addInitParameter(&quot;allow&quot;, &quot;127.0.0.1&quot;); // 本机使用IP将不能访问，但可以使用localhost作IP访问
		// 添加IP黑名单，当白名单和黑名单重复时，黑名单优先级更高
		servletRegistrationBean.addInitParameter(&quot;deny&quot;, &quot;192.16.13.243&quot;);
		// 添加控制台管理用户
		servletRegistrationBean.addInitParameter(&quot;loginUsername&quot;, &quot;admin&quot;);
		servletRegistrationBean.addInitParameter(&quot;loginPassword&quot;, &quot;admin&quot;);
		// 是否能够重置数据
		servletRegistrationBean.addInitParameter(&quot;resetEnable&quot;, &quot;true&quot;);
		return servletRegistrationBean;
	}

	/**
	 * 配置服务过滤器
	 *
	 * @return 返回过滤器配置对象
	 */
	@Bean
	public FilterRegistrationBean&lt;WebStatFilter&gt; statFilter() {
		FilterRegistrationBean&lt;WebStatFilter&gt; filterRegistrationBean = new FilterRegistrationBean&lt;&gt;(
				new WebStatFilter());
		// 添加过滤规则
		filterRegistrationBean.addUrlPatterns(&quot;/*&quot;);
		// 忽略过滤格式
		filterRegistrationBean.addInitParameter(&quot;exclusions&quot;, &quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*,&quot;);
		return filterRegistrationBean;
	}

}

</code></pre>

<p>yml配置文件</p>

<pre><code class="language-yml">spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3316/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC
    username: root
    password: cyj515818
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      # 下面为连接池的补充设置，应用到上面所有数据源中      # 初始化大小，最小，最大
      initial-size: 5
      min-idle: 5
      max-active: 20
      # 配置获取连接等待超时的时间
      max-wait: 60000
      # 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒
      time-between-eviction-runs-millis: 60000
      # 配置一个连接在池中最小生存的时间，单位是毫秒
      min-evictable-idle-time-millis: 300000
      validation-query: SELECT 1 FROM DUAL
      test-while-idle: true
      test-on-borrow: false
      test-on-return: false
      # 打开PSCache，并且指定每个连接上PSCache的大小
      pool-prepared-statements: true
      #   配置监控统计拦截的filters，去掉后监控界面sql无法统计，'wall'用于防火墙
      max-pool-prepared-statement-per-connection-size: 20
      filters: stat,wall
      use-global-data-source-stat: true
      # 通过connectProperties属性来打开mergeSql功能；慢SQL记录
      connect-properties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000
      # 配置监控服务器,目前下面这种配置在1.1.10可以，高版本比如1.1.16不行,
      # 目前使用的是较高版本，所以先注释，使用DataSourceConfiguration中的注释代替
      keep-alive: true
      stat-view-servlet:
        login-username: admin
        login-password: 123456
        reset-enable: false
        url-pattern: /druid/*
        # 添加IP白名单
        allow: 127.0.0.1
        # 添加IP黑名单，当白名单和黑名单重复时，黑名单优先级更高
        deny: 192.168.1.3
      #配置过滤规则
      web-stat-filter:
        # 添加过滤规则
        url-pattern: /*
        # 忽略过滤格式
        exclusions: &quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot;
</code></pre>

<p>测试分类插件</p>

<pre><code class="language-java">	@Test
	public void test3(){
		PageHelper.startPage(2, 2);
		List&lt;User&gt; users=userMapper.selectAll();
		PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(users);
		System.out.println(pageInfo);
	}
</code></pre>

<h1 id="2-配置方式二">2. 配置方式二</h1>

<p>配置二是一种比较稳妥的方式，避免duid版本改动时配置的方式发生变动而需要再修改druid相关配置。</p>

<ol>
<li><p>首先定义一个包含druid绝大部分配置属性的properties</p>

<pre><code class="language-java">package com.hisaige.database.config.data;

import java.io.PrintWriter;
import java.sql.Driver;
import java.util.Date;
import java.util.IdentityHashMap;
import java.util.List;
import java.util.Map;
import java.util.Properties;
import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.ReentrantLock;

import javax.security.auth.callback.NameCallback;
import javax.security.auth.callback.PasswordCallback;

import com.alibaba.druid.pool.DruidPooledConnection;
import com.alibaba.druid.pool.ExceptionSorter;
import com.alibaba.druid.pool.ValidConnectionChecker;

public class DruidProperties {

	public final static int DEFAULT_INITIAL_SIZE = 0;
	public final static int DEFAULT_MAX_ACTIVE_SIZE = 8;
	public final static int DEFAULT_MAX_IDLE = 8;
	public final static int DEFAULT_MIN_IDLE = 0;
	public final static int DEFAULT_MAX_WAIT = -1;
	public final static String DEFAULT_VALIDATION_QUERY = null; //
	public final static boolean DEFAULT_TEST_ON_BORROW = false;
	public final static boolean DEFAULT_TEST_ON_RETURN = false;
	public final static boolean DEFAULT_WHILE_IDLE = true;
	public static final long DEFAULT_TIME_BETWEEN_EVICTION_RUNS_MILLIS = 60 * 1000L;
	public static final long DEFAULT_TIME_BETWEEN_CONNECT_ERROR_MILLIS = 500;
	public static final int DEFAULT_NUM_TESTS_PER_EVICTION_RUN = 3;

	public static final long DEFAULT_MIN_EVICTABLE_IDLE_TIME_MILLIS = 1000L * 60L * 30L;
	public static final long DEFAULT_MAX_EVICTABLE_IDLE_TIME_MILLIS = 1000L * 60L * 60L * 7;
	public static final long DEFAULT_PHY_TIMEOUT_MILLIS = -1;

	private volatile boolean defaultAutoCommit = true;
	private volatile Boolean defaultReadOnly;
	private volatile Integer defaultTransactionIsolation;
	private volatile String defaultCatalog = null;

	private volatile String username;
	private volatile String password;
	private volatile String jdbcUrl;
	private volatile String driverClass;
	private volatile ClassLoader driverClassLoader;
	private volatile Properties connectProperties = new Properties();

	private volatile PasswordCallback passwordCallback;
	private volatile NameCallback userCallback;

	private volatile int initialSize = DEFAULT_INITIAL_SIZE;
	private volatile int maxActive = DEFAULT_MAX_ACTIVE_SIZE;
	private volatile int minIdle = DEFAULT_MIN_IDLE;
	private volatile int maxIdle = DEFAULT_MAX_IDLE;
	private volatile long maxWait = DEFAULT_MAX_WAIT;
	private int notFullTimeoutRetryCount = 0;

	private volatile String validationQuery = DEFAULT_VALIDATION_QUERY;
	private volatile int validationQueryTimeout = -1;
	private volatile boolean testOnBorrow = DEFAULT_TEST_ON_BORROW;
	private volatile boolean testOnReturn = DEFAULT_TEST_ON_RETURN;
	private volatile boolean testWhileIdle = DEFAULT_WHILE_IDLE;
	private volatile boolean poolPreparedStatements = false;
	private volatile boolean sharePreparedStatements = false;
	private volatile boolean useGlobalDataSourceStat = true;
	private volatile int maxPoolPreparedStatementPerConnectionSize = 10;

	private volatile boolean inited = false;
	private volatile boolean initExceptionThrow = true;

	private PrintWriter logWriter = new PrintWriter(System.out);

	private volatile boolean clearFiltersEnable = true;
	private volatile ExceptionSorter exceptionSorter = null;

	private Driver driver;

	private volatile int queryTimeout;
	private volatile int transactionQueryTimeout;

	private long createTimespan;

	private volatile int maxWaitThreadCount = -1;
	private volatile boolean accessToUnderlyingConnectionAllowed = true;

	private volatile long timeBetweenEvictionRunsMillis = DEFAULT_TIME_BETWEEN_EVICTION_RUNS_MILLIS;
	private volatile int numTestsPerEvictionRun = DEFAULT_NUM_TESTS_PER_EVICTION_RUN;
	private volatile long minEvictableIdleTimeMillis = DEFAULT_MIN_EVICTABLE_IDLE_TIME_MILLIS;
	private volatile long maxEvictableIdleTimeMillis = DEFAULT_MAX_EVICTABLE_IDLE_TIME_MILLIS;
	private volatile long keepAliveBetweenTimeMillis = DEFAULT_TIME_BETWEEN_EVICTION_RUNS_MILLIS * 2;
	private volatile long phyTimeoutMillis = DEFAULT_PHY_TIMEOUT_MILLIS;
	private volatile long phyMaxUseCount = -1;

	private volatile boolean removeAbandoned;
	private volatile long removeAbandonedTimeoutMillis = 300 * 1000;
	private volatile boolean logAbandoned;

	private volatile int maxOpenPreparedStatements = -1;

	private volatile List&lt;String&gt; connectionInitSqls;

	private volatile String dbType;

	private volatile long timeBetweenConnectErrorMillis = DEFAULT_TIME_BETWEEN_CONNECT_ERROR_MILLIS;

	private volatile ValidConnectionChecker validConnectionChecker = null;

	private final Map&lt;DruidPooledConnection, Object&gt; activeConnections = new IdentityHashMap&lt;DruidPooledConnection, Object&gt;();

	private long id;

	private int connectionErrorRetryAttempts = 1;
	private boolean breakAfterAcquireFailure = false;
	private long transactionThresholdMillis = 0L;

	private Date initedTime;
	private volatile long errorCount = 0L;
	private volatile long dupCloseCount = 0L;
	private volatile long startTransactionCount = 0L;
	private volatile long commitCount = 0L;
	private volatile long rollbackCount = 0L;
	private volatile long cachedPreparedStatementHitCount = 0L;
	private volatile long preparedStatementCount = 0L;
	private volatile long closedPreparedStatementCount = 0L;
	private volatile long cachedPreparedStatementCount = 0L;
	private volatile long cachedPreparedStatementDeleteCount = 0L;
	private volatile long cachedPreparedStatementMissCount = 0L;

	private boolean dupCloseLogEnable = false;

	private volatile long executeCount = 0L;
	private volatile long executeQueryCount = 0L;
	private volatile long executeUpdateCount = 0L;
	private volatile long executeBatchCount = 0L;

	private volatile Throwable createError;
	private volatile Throwable lastError;
	private volatile long lastErrorTimeMillis;
	private volatile Throwable lastCreateError;
	private volatile long lastCreateErrorTimeMillis;
	private volatile long lastCreateStartTimeMillis;

	private boolean isOracle = false;
	private boolean isMySql = false;
	private boolean useOracleImplicitCache = true;

	private ReentrantLock lock;
	private Condition notEmpty;
	private Condition empty;

	private ReentrantLock activeConnectionLock = new ReentrantLock();

	private volatile int createErrorCount = 0;
	private volatile int creatingCount = 0;
	private volatile int directCreateCount = 0;
	private volatile long createCount = 0L;
	private volatile long destroyCount = 0L;
	private volatile long createStartNanos = 0L;
	public boolean isDefaultAutoCommit() {
		return defaultAutoCommit;
	}
	public void setDefaultAutoCommit(boolean defaultAutoCommit) {
		this.defaultAutoCommit = defaultAutoCommit;
	}
	public Boolean getDefaultReadOnly() {
		return defaultReadOnly;
	}
	public void setDefaultReadOnly(Boolean defaultReadOnly) {
		this.defaultReadOnly = defaultReadOnly;
	}
	public Integer getDefaultTransactionIsolation() {
		return defaultTransactionIsolation;
	}
	public void setDefaultTransactionIsolation(Integer defaultTransactionIsolation) {
		this.defaultTransactionIsolation = defaultTransactionIsolation;
	}
	public String getDefaultCatalog() {
		return defaultCatalog;
	}
	public void setDefaultCatalog(String defaultCatalog) {
		this.defaultCatalog = defaultCatalog;
	}
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getPassword() {
		return password;
	}
	public void setPassword(String password) {
		this.password = password;
	}
	public String getJdbcUrl() {
		return jdbcUrl;
	}
	public void setJdbcUrl(String jdbcUrl) {
		this.jdbcUrl = jdbcUrl;
	}
	public String getDriverClass() {
		return driverClass;
	}
	public void setDriverClass(String driverClass) {
		this.driverClass = driverClass;
	}
	public ClassLoader getDriverClassLoader() {
		return driverClassLoader;
	}
	public void setDriverClassLoader(ClassLoader driverClassLoader) {
		this.driverClassLoader = driverClassLoader;
	}
	public Properties getConnectProperties() {
		return connectProperties;
	}
	public void setConnectProperties(Properties connectProperties) {
		this.connectProperties = connectProperties;
	}
	public PasswordCallback getPasswordCallback() {
		return passwordCallback;
	}
	public void setPasswordCallback(PasswordCallback passwordCallback) {
		this.passwordCallback = passwordCallback;
	}
	public NameCallback getUserCallback() {
		return userCallback;
	}
	public void setUserCallback(NameCallback userCallback) {
		this.userCallback = userCallback;
	}
	public int getInitialSize() {
		return initialSize;
	}
	public void setInitialSize(int initialSize) {
		this.initialSize = initialSize;
	}
	public int getMaxActive() {
		return maxActive;
	}
	public void setMaxActive(int maxActive) {
		this.maxActive = maxActive;
	}
	public int getMinIdle() {
		return minIdle;
	}
	public void setMinIdle(int minIdle) {
		this.minIdle = minIdle;
	}
	public int getMaxIdle() {
		return maxIdle;
	}
	public void setMaxIdle(int maxIdle) {
		this.maxIdle = maxIdle;
	}
	public long getMaxWait() {
		return maxWait;
	}
	public void setMaxWait(long maxWait) {
		this.maxWait = maxWait;
	}
	public int getNotFullTimeoutRetryCount() {
		return notFullTimeoutRetryCount;
	}
	public void setNotFullTimeoutRetryCount(int notFullTimeoutRetryCount) {
		this.notFullTimeoutRetryCount = notFullTimeoutRetryCount;
	}
	public String getValidationQuery() {
		return validationQuery;
	}
	public void setValidationQuery(String validationQuery) {
		this.validationQuery = validationQuery;
	}
	public int getValidationQueryTimeout() {
		return validationQueryTimeout;
	}
	public void setValidationQueryTimeout(int validationQueryTimeout) {
		this.validationQueryTimeout = validationQueryTimeout;
	}
	public boolean isTestOnBorrow() {
		return testOnBorrow;
	}
	public void setTestOnBorrow(boolean testOnBorrow) {
		this.testOnBorrow = testOnBorrow;
	}
	public boolean isTestOnReturn() {
		return testOnReturn;
	}
	public void setTestOnReturn(boolean testOnReturn) {
		this.testOnReturn = testOnReturn;
	}
	public boolean isTestWhileIdle() {
		return testWhileIdle;
	}
	public void setTestWhileIdle(boolean testWhileIdle) {
		this.testWhileIdle = testWhileIdle;
	}
	public boolean isPoolPreparedStatements() {
		return poolPreparedStatements;
	}
	public void setPoolPreparedStatements(boolean poolPreparedStatements) {
		this.poolPreparedStatements = poolPreparedStatements;
	}
	public boolean isSharePreparedStatements() {
		return sharePreparedStatements;
	}
	public void setSharePreparedStatements(boolean sharePreparedStatements) {
		this.sharePreparedStatements = sharePreparedStatements;
	}
	public boolean isUseGlobalDataSourceStat() {
		return useGlobalDataSourceStat;
	}
	public void setUseGlobalDataSourceStat(boolean useGlobalDataSourceStat) {
		this.useGlobalDataSourceStat = useGlobalDataSourceStat;
	}
	public int getMaxPoolPreparedStatementPerConnectionSize() {
		return maxPoolPreparedStatementPerConnectionSize;
	}
	public void setMaxPoolPreparedStatementPerConnectionSize(int maxPoolPreparedStatementPerConnectionSize) {
		this.maxPoolPreparedStatementPerConnectionSize = maxPoolPreparedStatementPerConnectionSize;
	}
	public boolean isInited() {
		return inited;
	}
	public void setInited(boolean inited) {
		this.inited = inited;
	}
	public boolean isInitExceptionThrow() {
		return initExceptionThrow;
	}
	public void setInitExceptionThrow(boolean initExceptionThrow) {
		this.initExceptionThrow = initExceptionThrow;
	}
	public PrintWriter getLogWriter() {
		return logWriter;
	}
	public void setLogWriter(PrintWriter logWriter) {
		this.logWriter = logWriter;
	}
	public boolean isClearFiltersEnable() {
		return clearFiltersEnable;
	}
	public void setClearFiltersEnable(boolean clearFiltersEnable) {
		this.clearFiltersEnable = clearFiltersEnable;
	}
	public ExceptionSorter getExceptionSorter() {
		return exceptionSorter;
	}
	public void setExceptionSorter(ExceptionSorter exceptionSorter) {
		this.exceptionSorter = exceptionSorter;
	}
	public Driver getDriver() {
		return driver;
	}
	public void setDriver(Driver driver) {
		this.driver = driver;
	}
	public int getQueryTimeout() {
		return queryTimeout;
	}
	public void setQueryTimeout(int queryTimeout) {
		this.queryTimeout = queryTimeout;
	}
	public int getTransactionQueryTimeout() {
		return transactionQueryTimeout;
	}
	public void setTransactionQueryTimeout(int transactionQueryTimeout) {
		this.transactionQueryTimeout = transactionQueryTimeout;
	}
	public long getCreateTimespan() {
		return createTimespan;
	}
	public void setCreateTimespan(long createTimespan) {
		this.createTimespan = createTimespan;
	}
	public int getMaxWaitThreadCount() {
		return maxWaitThreadCount;
	}
	public void setMaxWaitThreadCount(int maxWaitThreadCount) {
		this.maxWaitThreadCount = maxWaitThreadCount;
	}
	public boolean isAccessToUnderlyingConnectionAllowed() {
		return accessToUnderlyingConnectionAllowed;
	}
	public void setAccessToUnderlyingConnectionAllowed(boolean accessToUnderlyingConnectionAllowed) {
		this.accessToUnderlyingConnectionAllowed = accessToUnderlyingConnectionAllowed;
	}
	public long getTimeBetweenEvictionRunsMillis() {
		return timeBetweenEvictionRunsMillis;
	}
	public void setTimeBetweenEvictionRunsMillis(long timeBetweenEvictionRunsMillis) {
		this.timeBetweenEvictionRunsMillis = timeBetweenEvictionRunsMillis;
	}
	public int getNumTestsPerEvictionRun() {
		return numTestsPerEvictionRun;
	}
	public void setNumTestsPerEvictionRun(int numTestsPerEvictionRun) {
		this.numTestsPerEvictionRun = numTestsPerEvictionRun;
	}
	public long getMinEvictableIdleTimeMillis() {
		return minEvictableIdleTimeMillis;
	}
	public void setMinEvictableIdleTimeMillis(long minEvictableIdleTimeMillis) {
		this.minEvictableIdleTimeMillis = minEvictableIdleTimeMillis;
	}
	public long getMaxEvictableIdleTimeMillis() {
		return maxEvictableIdleTimeMillis;
	}
	public void setMaxEvictableIdleTimeMillis(long maxEvictableIdleTimeMillis) {
		this.maxEvictableIdleTimeMillis = maxEvictableIdleTimeMillis;
	}
	public long getKeepAliveBetweenTimeMillis() {
		return keepAliveBetweenTimeMillis;
	}
	public void setKeepAliveBetweenTimeMillis(long keepAliveBetweenTimeMillis) {
		this.keepAliveBetweenTimeMillis = keepAliveBetweenTimeMillis;
	}
	public long getPhyTimeoutMillis() {
		return phyTimeoutMillis;
	}
	public void setPhyTimeoutMillis(long phyTimeoutMillis) {
		this.phyTimeoutMillis = phyTimeoutMillis;
	}
	public long getPhyMaxUseCount() {
		return phyMaxUseCount;
	}
	public void setPhyMaxUseCount(long phyMaxUseCount) {
		this.phyMaxUseCount = phyMaxUseCount;
	}
	public boolean isRemoveAbandoned() {
		return removeAbandoned;
	}
	public void setRemoveAbandoned(boolean removeAbandoned) {
		this.removeAbandoned = removeAbandoned;
	}
	public long getRemoveAbandonedTimeoutMillis() {
		return removeAbandonedTimeoutMillis;
	}
	public void setRemoveAbandonedTimeoutMillis(long removeAbandonedTimeoutMillis) {
		this.removeAbandonedTimeoutMillis = removeAbandonedTimeoutMillis;
	}
	public boolean isLogAbandoned() {
		return logAbandoned;
	}
	public void setLogAbandoned(boolean logAbandoned) {
		this.logAbandoned = logAbandoned;
	}
	public int getMaxOpenPreparedStatements() {
		return maxOpenPreparedStatements;
	}
	public void setMaxOpenPreparedStatements(int maxOpenPreparedStatements) {
		this.maxOpenPreparedStatements = maxOpenPreparedStatements;
	}
	public List&lt;String&gt; getConnectionInitSqls() {
		return connectionInitSqls;
	}
	public void setConnectionInitSqls(List&lt;String&gt; connectionInitSqls) {
		this.connectionInitSqls = connectionInitSqls;
	}
	public String getDbType() {
		return dbType;
	}
	public void setDbType(String dbType) {
		this.dbType = dbType;
	}
	public long getTimeBetweenConnectErrorMillis() {
		return timeBetweenConnectErrorMillis;
	}
	public void setTimeBetweenConnectErrorMillis(long timeBetweenConnectErrorMillis) {
		this.timeBetweenConnectErrorMillis = timeBetweenConnectErrorMillis;
	}
	public ValidConnectionChecker getValidConnectionChecker() {
		return validConnectionChecker;
	}
	public void setValidConnectionChecker(ValidConnectionChecker validConnectionChecker) {
		this.validConnectionChecker = validConnectionChecker;
	}
	public long getId() {
		return id;
	}
	public void setId(long id) {
		this.id = id;
	}
	public int getConnectionErrorRetryAttempts() {
		return connectionErrorRetryAttempts;
	}
	public void setConnectionErrorRetryAttempts(int connectionErrorRetryAttempts) {
		this.connectionErrorRetryAttempts = connectionErrorRetryAttempts;
	}
	public boolean isBreakAfterAcquireFailure() {
		return breakAfterAcquireFailure;
	}
	public void setBreakAfterAcquireFailure(boolean breakAfterAcquireFailure) {
		this.breakAfterAcquireFailure = breakAfterAcquireFailure;
	}
	public long getTransactionThresholdMillis() {
		return transactionThresholdMillis;
	}
	public void setTransactionThresholdMillis(long transactionThresholdMillis) {
		this.transactionThresholdMillis = transactionThresholdMillis;
	}
	public Date getInitedTime() {
		return initedTime;
	}
	public void setInitedTime(Date initedTime) {
		this.initedTime = initedTime;
	}
	public long getErrorCount() {
		return errorCount;
	}
	public void setErrorCount(long errorCount) {
		this.errorCount = errorCount;
	}
	public long getDupCloseCount() {
		return dupCloseCount;
	}
	public void setDupCloseCount(long dupCloseCount) {
		this.dupCloseCount = dupCloseCount;
	}
	public long getStartTransactionCount() {
		return startTransactionCount;
	}
	public void setStartTransactionCount(long startTransactionCount) {
		this.startTransactionCount = startTransactionCount;
	}
	public long getCommitCount() {
		return commitCount;
	}
	public void setCommitCount(long commitCount) {
		this.commitCount = commitCount;
	}
	public long getRollbackCount() {
		return rollbackCount;
	}
	public void setRollbackCount(long rollbackCount) {
		this.rollbackCount = rollbackCount;
	}
	public long getCachedPreparedStatementHitCount() {
		return cachedPreparedStatementHitCount;
	}
	public void setCachedPreparedStatementHitCount(long cachedPreparedStatementHitCount) {
		this.cachedPreparedStatementHitCount = cachedPreparedStatementHitCount;
	}
	public long getPreparedStatementCount() {
		return preparedStatementCount;
	}
	public void setPreparedStatementCount(long preparedStatementCount) {
		this.preparedStatementCount = preparedStatementCount;
	}
	public long getClosedPreparedStatementCount() {
		return closedPreparedStatementCount;
	}
	public void setClosedPreparedStatementCount(long closedPreparedStatementCount) {
		this.closedPreparedStatementCount = closedPreparedStatementCount;
	}
	public long getCachedPreparedStatementCount() {
		return cachedPreparedStatementCount;
	}
	public void setCachedPreparedStatementCount(long cachedPreparedStatementCount) {
		this.cachedPreparedStatementCount = cachedPreparedStatementCount;
	}
	public long getCachedPreparedStatementDeleteCount() {
		return cachedPreparedStatementDeleteCount;
	}
	public void setCachedPreparedStatementDeleteCount(long cachedPreparedStatementDeleteCount) {
		this.cachedPreparedStatementDeleteCount = cachedPreparedStatementDeleteCount;
	}
	public long getCachedPreparedStatementMissCount() {
		return cachedPreparedStatementMissCount;
	}
	public void setCachedPreparedStatementMissCount(long cachedPreparedStatementMissCount) {
		this.cachedPreparedStatementMissCount = cachedPreparedStatementMissCount;
	}
	public boolean isDupCloseLogEnable() {
		return dupCloseLogEnable;
	}
	public void setDupCloseLogEnable(boolean dupCloseLogEnable) {
		this.dupCloseLogEnable = dupCloseLogEnable;
	}
	public long getExecuteCount() {
		return executeCount;
	}
	public void setExecuteCount(long executeCount) {
		this.executeCount = executeCount;
	}
	public long getExecuteQueryCount() {
		return executeQueryCount;
	}
	public void setExecuteQueryCount(long executeQueryCount) {
		this.executeQueryCount = executeQueryCount;
	}
	public long getExecuteUpdateCount() {
		return executeUpdateCount;
	}
	public void setExecuteUpdateCount(long executeUpdateCount) {
		this.executeUpdateCount = executeUpdateCount;
	}
	public long getExecuteBatchCount() {
		return executeBatchCount;
	}
	public void setExecuteBatchCount(long executeBatchCount) {
		this.executeBatchCount = executeBatchCount;
	}
	public Throwable getCreateError() {
		return createError;
	}
	public void setCreateError(Throwable createError) {
		this.createError = createError;
	}
	public Throwable getLastError() {
		return lastError;
	}
	public void setLastError(Throwable lastError) {
		this.lastError = lastError;
	}
	public long getLastErrorTimeMillis() {
		return lastErrorTimeMillis;
	}
	public void setLastErrorTimeMillis(long lastErrorTimeMillis) {
		this.lastErrorTimeMillis = lastErrorTimeMillis;
	}
	public Throwable getLastCreateError() {
		return lastCreateError;
	}
	public void setLastCreateError(Throwable lastCreateError) {
		this.lastCreateError = lastCreateError;
	}
	public long getLastCreateErrorTimeMillis() {
		return lastCreateErrorTimeMillis;
	}
	public void setLastCreateErrorTimeMillis(long lastCreateErrorTimeMillis) {
		this.lastCreateErrorTimeMillis = lastCreateErrorTimeMillis;
	}
	public long getLastCreateStartTimeMillis() {
		return lastCreateStartTimeMillis;
	}
	public void setLastCreateStartTimeMillis(long lastCreateStartTimeMillis) {
		this.lastCreateStartTimeMillis = lastCreateStartTimeMillis;
	}
	public boolean isOracle() {
		return isOracle;
	}
	public void setOracle(boolean isOracle) {
		this.isOracle = isOracle;
	}
	public boolean isMySql() {
		return isMySql;
	}
	public void setMySql(boolean isMySql) {
		this.isMySql = isMySql;
	}
	public boolean isUseOracleImplicitCache() {
		return useOracleImplicitCache;
	}
	public void setUseOracleImplicitCache(boolean useOracleImplicitCache) {
		this.useOracleImplicitCache = useOracleImplicitCache;
	}
	public ReentrantLock getLock() {
		return lock;
	}
	public void setLock(ReentrantLock lock) {
		this.lock = lock;
	}
	public Condition getNotEmpty() {
		return notEmpty;
	}
	public void setNotEmpty(Condition notEmpty) {
		this.notEmpty = notEmpty;
	}
	public Condition getEmpty() {
		return empty;
	}
	public void setEmpty(Condition empty) {
		this.empty = empty;
	}
	public ReentrantLock getActiveConnectionLock() {
		return activeConnectionLock;
	}
	public void setActiveConnectionLock(ReentrantLock activeConnectionLock) {
		this.activeConnectionLock = activeConnectionLock;
	}
	public int getCreateErrorCount() {
		return createErrorCount;
	}
	public void setCreateErrorCount(int createErrorCount) {
		this.createErrorCount = createErrorCount;
	}
	public int getCreatingCount() {
		return creatingCount;
	}
	public void setCreatingCount(int creatingCount) {
		this.creatingCount = creatingCount;
	}
	public int getDirectCreateCount() {
		return directCreateCount;
	}
	public void setDirectCreateCount(int directCreateCount) {
		this.directCreateCount = directCreateCount;
	}
	public long getCreateCount() {
		return createCount;
	}
	public void setCreateCount(long createCount) {
		this.createCount = createCount;
	}
	public long getDestroyCount() {
		return destroyCount;
	}
	public void setDestroyCount(long destroyCount) {
		this.destroyCount = destroyCount;
	}
	public long getCreateStartNanos() {
		return createStartNanos;
	}
	public void setCreateStartNanos(long createStartNanos) {
		this.createStartNanos = createStartNanos;
	}
	public Map&lt;DruidPooledConnection, Object&gt; getActiveConnections() {
		return activeConnections;
	}
}

</code></pre></li>

<li><p>再写一个基本配置继承于上面的properties类</p>

<pre><code class="language-java">package com.hisaige.database.config.data;

import org.springframework.boot.context.properties.ConfigurationProperties;

@ConfigurationProperties(prefix = &quot;spring.datasource.druid&quot;)
public class DataBaseProperties extends DruidProperties {

private String filters;
private String connectionProperties;
//当前配置下暂时用不到
private String dialect;
//当前配置下暂时用不到
private String showSql;
//当前配置下暂时用不到
private String model;
public String getFilters() {
  return filters;
}

public void setFilters(String filters) {
  this.filters = filters;
}

public String getConnectionProperties() {
  return connectionProperties;
}

public void setConnectionProperties(String connectionProperties) {
  this.connectionProperties = connectionProperties;
}

public String getDialect() {
  return dialect;
}

public void setDialect(String dialect) {
  this.dialect = dialect;
}

public String getShowSql() {
  return showSql;
}

public void setShowSql(String showSql) {
  this.showSql = showSql;
}

public String getModel() {
  return model;
}

public void setModel(String model) {
  this.model = model;
}

@Override
public String toString() {
  return &quot;DataBaseProperties [filters=&quot; + filters + &quot;, connectionProperties=&quot; + connectionProperties
        + &quot;, dialect=&quot; + dialect + &quot;, showSql=&quot; + showSql + &quot;, model=&quot; + model + &quot;]&quot;;
}
// druid

}
</code></pre></li>

<li></li>
</ol>

    </div>

    
    


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://hisaige.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
          <a href="https://hisaige.github.io/tags/druid/">druid</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/development/%E5%B0%9A%E7%A1%85%E8%B0%B7clould/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">springclould简要入门</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/docs/math-preview/">
            <span class="next-text nav-default">Math Preview</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:hisaige@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>


<a href="https://hisaige.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      20190902 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        hisaige
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>



  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>



  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"
    integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG"
    crossorigin="anonymous">

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js"
    integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1"
    crossorigin="anonymous"></script>

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js"
    integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
    crossorigin="anonymous" onload="renderMathInElement(document.body);">
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        
      });
    });
  </script>






  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  














  <script src="/js/head.js"></script>


</body>
</html>
